SELECT 
    years, COUNT(customer_rk)
FROM
    (SELECT 
        YEAR(birth_dt) AS years,
            customer_rk,
            SUM(mon5) * SUM(mon6) AS prod
    FROM
        (SELECT 
        birth_dt,
            customer_rk,
            (CASE
                WHEN monthly_income_amt = 50000 THEN 1
                ELSE 0
            END) AS mon5,
            (CASE
                WHEN monthly_income_amt = 60000 THEN 1
                ELSE 0
            END) AS mon6
    FROM
        srcdt.cd_customers
    HAVING (mon6 != 0) OR (mon5 != 0)) AS t
    GROUP BY YEAR(birth_dt) , customer_rk
    HAVING prod != 0) AS t1
GROUP BY years